otr@ks:~$ sudo apt-get install ca-certificates curl
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
ca-certificates is already the newest version (20230311ubuntu0.22.04.1).
ca-certificates set to manually installed.
curl is already the newest version (7.81.0-1ubuntu1.15).
0 upgraded, 0 newly installed, 0 to remove and 11 not upgraded.
otr@ks:~$ sudo install -m 0755 -d /etc/apt/keyrings
otr@ks:~$ sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
otr@ks:~$ sudo chmod a+r /etc/apt/keyrings/docker.asc
otr@ks:~$ echo \
>   "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \
>   $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | \
>   sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
otr@ks:~$ sudo apt-get update
Hit:1 http://mirror.yandex.ru/ubuntu jammy InRelease
Hit:2 http://mirror.yandex.ru/ubuntu jammy-updates InRelease
Hit:3 http://mirror.yandex.ru/ubuntu jammy-backports InRelease
Get:4 https://download.docker.com/linux/ubuntu jammy InRelease [48.8 kB]
Hit:5 http://security.ubuntu.com/ubuntu jammy-security InRelease
Get:6 https://download.docker.com/linux/ubuntu jammy/stable amd64 Packages [29.1 kB]
Fetched 77.9 kB in 1s (137 kB/s)
Reading package lists... Done
otr@ks:~$ sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  docker-ce-rootless-extras libltdl7 libslirp0 pigz slirp4netns
Suggested packages:
  aufs-tools cgroupfs-mount | cgroup-lite
The following NEW packages will be installed:
  containerd.io docker-buildx-plugin docker-ce docker-ce-cli docker-ce-rootless-extras docker-compose-plugin libltdl7
  libslirp0 pigz slirp4netns
0 upgraded, 10 newly installed, 0 to remove and 11 not upgraded.
Need to get 120 MB of archives.
After this operation, 429 MB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://mirror.yandex.ru/ubuntu jammy/universe amd64 pigz amd64 2.6-1 [63.6 kB]
Get:2 http://mirror.yandex.ru/ubuntu jammy/main amd64 libltdl7 amd64 2.4.6-15build2 [39.6 kB]
Get:3 http://mirror.yandex.ru/ubuntu jammy/main amd64 libslirp0 amd64 4.6.1-1build1 [61.5 kB]
Get:4 http://mirror.yandex.ru/ubuntu jammy/universe amd64 slirp4netns amd64 1.0.1-2 [28.2 kB]
Get:5 https://download.docker.com/linux/ubuntu jammy/stable amd64 containerd.io amd64 1.6.28-2 [29.7 MB]
Get:6 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-buildx-plugin amd64 0.13.1-1~ubuntu.22.04~jammy [29.5 MB]
Get:7 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-ce-cli amd64 5:26.0.0-1~ubuntu.22.04~jammy [13.8 MB]
Get:8 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-ce amd64 5:26.0.0-1~ubuntu.22.04~jammy [25.1 MB]
Get:9 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-ce-rootless-extras amd64 5:26.0.0-1~ubuntu.22.04~jammy [9,320 kB]
Get:10 https://download.docker.com/linux/ubuntu jammy/stable amd64 docker-compose-plugin amd64 2.25.0-1~ubuntu.22.04~jammy [12.1 MB]
Fetched 120 MB in 7s (16.7 MB/s)
Selecting previously unselected package pigz.
(Reading database ... 110055 files and directories currently installed.)
Preparing to unpack .../0-pigz_2.6-1_amd64.deb ...
Unpacking pigz (2.6-1) ...
Selecting previously unselected package containerd.io.
Preparing to unpack .../1-containerd.io_1.6.28-2_amd64.deb ...
Unpacking containerd.io (1.6.28-2) ...
Selecting previously unselected package docker-buildx-plugin.
Preparing to unpack .../2-docker-buildx-plugin_0.13.1-1~ubuntu.22.04~jammy_amd64.deb ...
Unpacking docker-buildx-plugin (0.13.1-1~ubuntu.22.04~jammy) ...
Selecting previously unselected package docker-ce-cli.
Preparing to unpack .../3-docker-ce-cli_5%3a26.0.0-1~ubuntu.22.04~jammy_amd64.deb ...
Unpacking docker-ce-cli (5:26.0.0-1~ubuntu.22.04~jammy) ...
Selecting previously unselected package docker-ce.
Preparing to unpack .../4-docker-ce_5%3a26.0.0-1~ubuntu.22.04~jammy_amd64.deb ...
Unpacking docker-ce (5:26.0.0-1~ubuntu.22.04~jammy) ...
Selecting previously unselected package docker-ce-rootless-extras.
Preparing to unpack .../5-docker-ce-rootless-extras_5%3a26.0.0-1~ubuntu.22.04~jammy_amd64.deb ...
Unpacking docker-ce-rootless-extras (5:26.0.0-1~ubuntu.22.04~jammy) ...
Selecting previously unselected package docker-compose-plugin.
Preparing to unpack .../6-docker-compose-plugin_2.25.0-1~ubuntu.22.04~jammy_amd64.deb ...
Unpacking docker-compose-plugin (2.25.0-1~ubuntu.22.04~jammy) ...
Selecting previously unselected package libltdl7:amd64.
Preparing to unpack .../7-libltdl7_2.4.6-15build2_amd64.deb ...
Unpacking libltdl7:amd64 (2.4.6-15build2) ...
Selecting previously unselected package libslirp0:amd64.
Preparing to unpack .../8-libslirp0_4.6.1-1build1_amd64.deb ...
Unpacking libslirp0:amd64 (4.6.1-1build1) ...
Selecting previously unselected package slirp4netns.
Preparing to unpack .../9-slirp4netns_1.0.1-2_amd64.deb ...
Unpacking slirp4netns (1.0.1-2) ...
Setting up docker-buildx-plugin (0.13.1-1~ubuntu.22.04~jammy) ...
Setting up containerd.io (1.6.28-2) ...
Created symlink /etc/systemd/system/multi-user.target.wants/containerd.service â†’ /lib/systemd/system/containerd.service.
Setting up docker-compose-plugin (2.25.0-1~ubuntu.22.04~jammy) ...
Setting up libltdl7:amd64 (2.4.6-15build2) ...
Setting up docker-ce-cli (5:26.0.0-1~ubuntu.22.04~jammy) ...
Setting up libslirp0:amd64 (4.6.1-1build1) ...
Setting up pigz (2.6-1) ...
Setting up docker-ce-rootless-extras (5:26.0.0-1~ubuntu.22.04~jammy) ...
Setting up slirp4netns (1.0.1-2) ...
Setting up docker-ce (5:26.0.0-1~ubuntu.22.04~jammy) ...
Created symlink /etc/systemd/system/multi-user.target.wants/docker.service â†’ /lib/systemd/system/docker.service.
Created symlink /etc/systemd/system/sockets.target.wants/docker.socket â†’ /lib/systemd/system/docker.socket.
Processing triggers for man-db (2.10.2-1) ...
Processing triggers for libc-bin (2.35-0ubuntu3.6) ...
Scanning processes...
Scanning linux images...

Running kernel seems to be up-to-date.

No services need to be restarted.

No containers need to be restarted.

No user sessions are running outdated binaries.

No VM guests are running outdated hypervisor (qemu) binaries on this host.
otr@ks:~$ sudo chmod 666 /var/run/docker.sock
otr@ks:~$ sudo adduser $USER docker
Adding user `otr' to group `docker' ...
Adding user otr to group docker
Done.
otr@ks:~$ curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 89.3M  100 89.3M    0     0  25.4M      0  0:00:03  0:00:03 --:--:-- 25.3M
otr@ks:~$ sudo install minikube-linux-amd64 /usr/local/bin/minikube && rm minikube-linux-amd64
otr@ks:~$ minikube start --nodes 5
ðŸ˜„  minikube v1.32.0 on Ubuntu 22.04 (amd64)
âœ¨  Automatically selected the docker driver. Other choices: ssh, none
ðŸ“Œ  Using Docker driver with root privileges
ðŸ‘  Starting control plane node minikube in cluster minikube
ðŸšœ  Pulling base image ...
ðŸ’¾  Downloading Kubernetes v1.28.3 preload ...
    > preloaded-images-k8s-v18-v1...:  403.35 MiB / 403.35 MiB  100.00% 20.84 M
    > gcr.io/k8s-minikube/kicbase...:  453.90 MiB / 453.90 MiB  100.00% 15.66 M
ðŸ”¥  Creating docker container (CPUs=2, Memory=2200MB) ...
ðŸ³  Preparing Kubernetes v1.28.3 on Docker 24.0.7 ...
    â–ª Generating certificates and keys ...
    â–ª Booting up control plane ...
    â–ª Configuring RBAC rules ...
ðŸ”—  Configuring CNI (Container Networking Interface) ...
    â–ª Using image gcr.io/k8s-minikube/storage-provisioner:v5
ðŸ”Ž  Verifying Kubernetes components...
ðŸŒŸ  Enabled addons: storage-provisioner, default-storageclass

ðŸ‘  Starting worker node minikube-m02 in cluster minikube
ðŸšœ  Pulling base image ...
ðŸ”¥  Creating docker container (CPUs=2, Memory=2200MB) ...
ðŸŒ  Found network options:
    â–ª NO_PROXY=192.168.49.2
ðŸ³  Preparing Kubernetes v1.28.3 on Docker 24.0.7 ...
    â–ª env NO_PROXY=192.168.49.2
ðŸ”Ž  Verifying Kubernetes components...

ðŸ‘  Starting worker node minikube-m03 in cluster minikube
ðŸšœ  Pulling base image ...
ðŸ”¥  Creating docker container (CPUs=2, Memory=2200MB) ...
ðŸŒ  Found network options:
    â–ª NO_PROXY=192.168.49.2,192.168.49.3
ðŸ³  Preparing Kubernetes v1.28.3 on Docker 24.0.7 ...
    â–ª env NO_PROXY=192.168.49.2
    â–ª env NO_PROXY=192.168.49.2,192.168.49.3
ðŸ”Ž  Verifying Kubernetes components...

ðŸ‘  Starting worker node minikube-m04 in cluster minikube
ðŸšœ  Pulling base image ...
ðŸ”¥  Creating docker container (CPUs=2, Memory=2200MB) ...
ðŸŒ  Found network options:
    â–ª NO_PROXY=192.168.49.2,192.168.49.3,192.168.49.4
ðŸ³  Preparing Kubernetes v1.28.3 on Docker 24.0.7 ...
    â–ª env NO_PROXY=192.168.49.2
    â–ª env NO_PROXY=192.168.49.2,192.168.49.3
    â–ª env NO_PROXY=192.168.49.2,192.168.49.3,192.168.49.4
ðŸ”Ž  Verifying Kubernetes components...

ðŸ‘  Starting worker node minikube-m05 in cluster minikube
ðŸšœ  Pulling base image ...
ðŸ”¥  Creating docker container (CPUs=2, Memory=2200MB) ...
ðŸŒ  Found network options:
    â–ª NO_PROXY=192.168.49.2,192.168.49.3,192.168.49.4,192.168.49.5
ðŸ³  Preparing Kubernetes v1.28.3 on Docker 24.0.7 ...
    â–ª env NO_PROXY=192.168.49.2
    â–ª env NO_PROXY=192.168.49.2,192.168.49.3
    â–ª env NO_PROXY=192.168.49.2,192.168.49.3,192.168.49.4
    â–ª env NO_PROXY=192.168.49.2,192.168.49.3,192.168.49.4,192.168.49.5
ðŸ”Ž  Verifying Kubernetes components...
ðŸ’¡  kubectl not found. If you need it, try: 'minikube kubectl -- get pods -A'
ðŸ„  Done! kubectl is now configured to use "minikube" cluster and "default" namespace by default
otr@ks:~$ minikube kubectl get nodes
    > kubectl.sha256:  64 B / 64 B [-------------------------] 100.00% ? p/s 0s
    > kubectl:  47.56 MiB / 47.56 MiB [--------------] 100.00% 1.34 MiB p/s 36s
NAME           STATUS   ROLES           AGE   VERSION
minikube       Ready    control-plane   34m   v1.28.3
minikube-m02   Ready    <none>          32m   v1.28.3
minikube-m03   Ready    <none>          30m   v1.28.3
minikube-m04   Ready    <none>          28m   v1.28.3
minikube-m05   Ready    <none>          26m   v1.28.3